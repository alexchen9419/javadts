# RuneRise éŠæˆ²èƒ½åŠ›ç³»çµ± - å®Œæ•´æŠ€è¡“æ–‡ä»¶

## ğŸ“‹ ç›®éŒ„
1. [å°ˆæ¡ˆæ¦‚è¿°](#å°ˆæ¡ˆæ¦‚è¿°)
2. [ç³»çµ±æ¶æ§‹](#ç³»çµ±æ¶æ§‹)
3. [æ ¸å¿ƒé¡åˆ¥è©³è§£](#æ ¸å¿ƒé¡åˆ¥è©³è§£)
4. [è¨­è¨ˆæ¨¡å¼èˆ‡åŸå‰‡](#è¨­è¨ˆæ¨¡å¼èˆ‡åŸå‰‡)
5. [é—œéµæ©Ÿåˆ¶å¯¦ä½œ](#é—œéµæ©Ÿåˆ¶å¯¦ä½œ)
6. [åŸ·è¡Œæµç¨‹åˆ†æ](#åŸ·è¡Œæµç¨‹åˆ†æ)
7. [æ¸¬è©¦æƒ…å¢ƒèªªæ˜](#æ¸¬è©¦æƒ…å¢ƒèªªæ˜)

---

## å°ˆæ¡ˆæ¦‚è¿°

### ğŸ® å°ˆæ¡ˆèƒŒæ™¯
RuneRise æ˜¯ä¸€æ¬¾ ARPGï¼ˆå‹•ä½œè§’è‰²æ‰®æ¼”ï¼‰éŠæˆ²ï¼Œéœ€è¦ä¸€å€‹**å¯æ“´å……çš„èƒ½åŠ›ç³»çµ±**ä¾†æ”¯æ´å¿«é€Ÿé–‹ç™¼å„ç¨®éŠæˆ²æ©Ÿåˆ¶ï¼ŒåŒ…æ‹¬ï¼š
- æš´æ“Šè§¸ç™¼è­·ç›¾
- å…‰ç’°å‹æ”»æ“ŠåŠ æˆ
- å…ƒç´ å‰‹åˆ¶ç³»çµ±
- Buff/Debuff ç®¡ç†

### ğŸ¯ è¨­è¨ˆç›®æ¨™
1. **äº‹ä»¶é©…å‹•æ¶æ§‹**ï¼šä½¿ç”¨ç™¼å¸ƒ-è¨‚é–±æ¨¡å¼è§£è€¦éŠæˆ²é‚è¼¯
2. **èƒ½åŠ›çµ„åˆæ¨¡å¼**ï¼šè§’è‰²ä¸ç¹¼æ‰¿è·æ¥­ï¼Œè€Œæ˜¯é€éèƒ½åŠ›çµ„åˆå®šç¾©è¡Œç‚º
3. **éˆæ´»çš„ç–ŠåŠ è¦å‰‡**ï¼šæ”¯æ´èƒ½åŠ›ç–ŠåŠ ã€äº’æ–¥ã€å†·å»ã€æ™‚æ•ˆæ€§
4. **æ¨¡å¼åŒ–è¨­è¨ˆ**ï¼šæ”¯æ´ PVE/PVP ä¸åŒè¦å‰‡é›†

### ğŸ“¦ æŠ€è¡“æ£§
- **èªè¨€**ï¼šJava
- **è¨­è¨ˆæ¨¡å¼**ï¼šç­–ç•¥æ¨¡å¼ã€è§€å¯Ÿè€…æ¨¡å¼ã€çµ„åˆæ¨¡å¼
- **æ¶æ§‹é¢¨æ ¼**ï¼šäº‹ä»¶é©…å‹•æ¶æ§‹ï¼ˆEDAï¼‰

---

## ç³»çµ±æ¶æ§‹

### æ•´é«”æ¶æ§‹åœ–
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GameContext                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ EventBus   â”‚  â”‚AreaServiceâ”‚  â”‚ Mode (PVE/PVP) â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Entity  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚   Ability    â”‚
    â”‚  - HP    â”‚         â”‚ (Interface)  â”‚
    â”‚  - Shieldâ”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚  - Stats â”‚                 â†‘
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚CritShieldAbilâ”‚   â”‚AttackAuraAbil â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒçµ„ä»¶é—œä¿‚

| çµ„ä»¶ | è·è²¬ | ä¾è³´ |
|------|------|------|
| **GameContext** | æä¾›å…¨åŸŸéŠæˆ²ç‹€æ…‹èˆ‡æœå‹™ | EventBus, AreaService, Mode |
| **Entity** | è§’è‰²å¯¦é«”ï¼Œç®¡ç†ç‹€æ…‹èˆ‡èƒ½åŠ› | Ability, StatContext, BattleLog |
| **Ability** | èƒ½åŠ›ä»‹é¢ï¼Œå®šç¾©è¡Œç‚ºå¥‘ç´„ | Entity, GameContext |
| **GameEventBus** | äº‹ä»¶ç™¼å¸ƒèˆ‡è¨‚é–±ä¸­å¿ƒ | ç„¡ |
| **AreaService** | æä¾›ç©ºé–“æŸ¥è©¢æœå‹™ | Entity |

---

## æ ¸å¿ƒé¡åˆ¥è©³è§£

### 1ï¸âƒ£ GameContextï¼ˆéŠæˆ²æƒ…å¢ƒï¼‰

**æª”æ¡ˆä½ç½®**ï¼š[game/GameContext.java](game/GameContext.java)

```java
public class GameContext {
    public final GameEventBus bus;    // äº‹ä»¶åŒ¯æµæ’
    public final AreaService area;    // å€åŸŸæœå‹™
    public Mode mode;                 // éŠæˆ²æ¨¡å¼ï¼ˆå¯è®Šï¼‰
}
```

**ä½œç”¨**ï¼š
- ä½œç‚ºä¾è³´æ³¨å…¥å®¹å™¨ï¼Œæä¾›å…¨åŸŸæœå‹™
- å…è¨±èƒ½åŠ›ç³»çµ±æŸ¥è©¢ç’°å¢ƒè³‡è¨Šï¼ˆå¦‚é™„è¿‘çš„å¯¦é«”ï¼‰
- æ”¯æ´æ¨¡å¼åˆ‡æ›ï¼ˆPVE â†” PVPï¼‰

**è¨­è¨ˆäº®é»**ï¼š
- ä½¿ç”¨ `final` ç¢ºä¿æ ¸å¿ƒæœå‹™ä¸å¯è®Š
- `mode` ç‚ºå¯è®Šæ¬„ä½ï¼Œæ”¯æ´åŸ·è¡Œæ™‚åˆ‡æ›è¦å‰‡

---

### 2ï¸âƒ£ Entityï¼ˆè§’è‰²å¯¦é«”ï¼‰

**æª”æ¡ˆä½ç½®**ï¼š[game/Entity.java](game/Entity.java)

```java
public class Entity {
    public int shield;                      // ç•¶å‰è­·ç›¾å€¼
    public List<String> buffs;             // Buff æ¨™ç±¤åˆ—è¡¨
    public List<Ability> abilities;        // æŒæœ‰çš„èƒ½åŠ›
    public BattleLog log;                  // æˆ°é¬¥æ—¥èªŒ
    private StatContext baseStats;         // åŸºç¤å±¬æ€§
}
```

#### é—œéµæ–¹æ³•

##### â‘  getFinalStats() - å±¬æ€§è¨ˆç®—å¼•æ“
```java
public StatContext getFinalStats() {
    // 1. è¤‡è£½åŸºç¤å±¬æ€§
    StatContext current = new StatContext(baseStats);
    
    // 2. æ‰¾å‡ºæ‰€æœ‰æ”»æ“Šå…‰ç’°
    List<Ability> attackAuras = abilities.stream()
        .filter(a -> a.category() == BuffCategory.ATTACK_AURA)
        .collect(Collectors.toList());
    
    // 3. é€éè©¦ç®—æ‰¾å‡ºæœ€å¼·å…‰ç’°ï¼ˆäº’æ–¥è¦å‰‡ï¼‰
    Ability bestAura = null;
    double bestAttack = -1.0;
    for (Ability a : attackAuras) {
        StatContext test = a.modify(new StatContext(baseStats));
        if (test.attack > bestAttack) {
            bestAttack = test.attack;
            bestAura = a;
        }
    }
    
    // 4. å¥—ç”¨èƒ½åŠ›ä¿®é£¾ï¼ˆåªå¥—ç”¨æœ€å¼·æ”»æ“Šå…‰ç’°ï¼‰
    for (Ability a : abilities) {
        if (a.category() == BuffCategory.ATTACK_AURA) {
            if (a == bestAura) current = a.modify(current);
        } else {
            current = a.modify(current);
        }
    }
    return current;
}
```

**æ¼”ç®—æ³•èªªæ˜**ï¼š
1. **é å…ˆè©¦ç®—**ï¼šå°æ‰€æœ‰æ”»æ“Šå…‰ç’°åˆ†åˆ¥è©¦ç®—æ•ˆæœ
2. **é¸æ“‡æœ€å„ª**ï¼šæ¯”è¼ƒè©¦ç®—çµæœï¼Œé¸å‡ºåŠ æˆæœ€å¤§çš„å…‰ç’°
3. **æ­£å¼å¥—ç”¨**ï¼šéæ­·æ‰€æœ‰èƒ½åŠ›ï¼Œæ”»æ“Šå…‰ç’°åªå¥—ç”¨æœ€å¼·è€…ï¼Œå…¶ä»–èƒ½åŠ›æ­£å¸¸å¥—ç”¨

**æ™‚é–“è¤‡é›œåº¦**ï¼šO(n + m)ï¼Œå…¶ä¸­ n ç‚ºæ”»æ“Šå…‰ç’°æ•¸é‡ï¼Œm ç‚ºç¸½èƒ½åŠ›æ•¸é‡

---

### 3ï¸âƒ£ Abilityï¼ˆèƒ½åŠ›ä»‹é¢ï¼‰

**æª”æ¡ˆä½ç½®**ï¼š[game/Ability.java](game/Ability.java)

```java
public interface Ability {
    String id();                                    // èƒ½åŠ›å”¯ä¸€æ¨™è­˜
    BuffCategory category();                        // åˆ†é¡ï¼ˆç”¨æ–¼äº’æ–¥è¦å‰‡ï¼‰
    void onAttach(Entity self, GameContext ctx);   // é™„åŠ æ™‚åˆå§‹åŒ–
    void onDetach(Entity self, GameContext ctx);   // ç§»é™¤æ™‚æ¸…ç†
    StatContext modify(StatContext stats);         // ä¿®é£¾å±¬æ€§
}
```

**è¨­è¨ˆåŸå‰‡**ï¼š
- **ç”Ÿå‘½é€±æœŸç®¡ç†**ï¼š`onAttach`/`onDetach` æ§åˆ¶èƒ½åŠ›çš„å•Ÿç”¨èˆ‡æ¸…ç†
- **å±¬æ€§ä¿®é£¾å™¨**ï¼š`modify` æ–¹æ³•éµå¾ªä¸å¯è®Šæ¨¡å¼ï¼Œè¿”å›æ–°çš„ `StatContext`
- **äº‹ä»¶è¨‚é–±**ï¼šåœ¨ `onAttach` ä¸­è¨‚é–±æ„Ÿèˆˆè¶£çš„äº‹ä»¶

---

### 4ï¸âƒ£ GameEventBusï¼ˆäº‹ä»¶åŒ¯æµæ’ï¼‰

**æª”æ¡ˆä½ç½®**ï¼š[game/GameEventBus.java](game/GameEventBus.java)

```java
public interface GameEventBus {
    void publish(Object event);
    <T> void subscribe(Class<T> eventType, Consumer<T> handler);
}
```

#### å¯¦ä½œé¡åˆ¥ï¼šSimpleGameEventBus
```java
class SimpleGameEventBus implements GameEventBus {
    private Map<Class<?>, List<Consumer<?>>> subscribers = new HashMap<>();
    
    public void publish(Object event) {
        Class<?> type = event.getClass();
        if (subscribers.containsKey(type)) {
            for (Consumer<?> handler : subscribers.get(type)) {
                ((Consumer<Object>) handler).accept(event);
            }
        }
    }
}
```

**ç‰¹é»**ï¼š
- **å‹åˆ¥å®‰å…¨**ï¼šä½¿ç”¨æ³›å‹ç¢ºä¿äº‹ä»¶èˆ‡è™•ç†å™¨å‹åˆ¥åŒ¹é…
- **ä¸€å°å¤šå»£æ’­**ï¼šä¸€å€‹äº‹ä»¶å¯è§¸ç™¼å¤šå€‹è¨‚é–±è€…
- **å³æ™‚æ´¾ç™¼**ï¼šåŒæ­¥åŸ·è¡Œæ‰€æœ‰è™•ç†å™¨ï¼ˆé©åˆå–®åŸ·è¡Œç·’éŠæˆ²è¿´åœˆï¼‰

---

### 5ï¸âƒ£ CooldownPolicyï¼ˆå†·å»ç­–ç•¥ï¼‰

**æª”æ¡ˆä½ç½®**ï¼š[game/CooldownPolicy.java](game/CooldownPolicy.java)

```java
public class CooldownPolicy {
    private long lastTriggerTime = -1;
    private final long cooldownDurationMs;
    
    public boolean ready(Entity e) {
        if (lastTriggerTime == -1) return true;
        return (System.currentTimeMillis() - lastTriggerTime) 
               >= cooldownDurationMs;
    }
    
    public void consume(Entity e) {
        this.lastTriggerTime = System.currentTimeMillis();
    }
}
```

**ä½¿ç”¨ç¯„ä¾‹**ï¼š
```java
if (cd.ready(entity)) {
    // åŸ·è¡Œæ•ˆæœ
    cd.consume(entity);  // é‡ç½®å†·å»æ™‚é–“
}
```

---

## è¨­è¨ˆæ¨¡å¼èˆ‡åŸå‰‡

### ğŸ”¹ ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰
**æ‡‰ç”¨ä½ç½®**ï¼š`Ability` ä»‹é¢èˆ‡å¯¦ä½œé¡åˆ¥

**å„ªå‹¢**ï¼š
- èƒ½åŠ›å¯ç†±æ’æ‹”ï¼Œç„¡éœ€ä¿®æ”¹ `Entity` é¡åˆ¥
- æ–°å¢èƒ½åŠ›åªéœ€å¯¦ä½œ `Ability` ä»‹é¢
- ç¬¦åˆé–‹æ”¾å°é–‰åŸå‰‡ï¼ˆOCPï¼‰

### ğŸ”¹ è§€å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰
**æ‡‰ç”¨ä½ç½®**ï¼š`GameEventBus` ç³»çµ±

**å„ªå‹¢**ï¼š
- ç™¼å¸ƒè€…èˆ‡è¨‚é–±è€…å®Œå…¨è§£è€¦
- æ”¯æ´å‹•æ…‹å¢æ¸›è¨‚é–±è€…
- é¿å…å¾ªç’°ä¾è³´

### ğŸ”¹ çµ„åˆæ¨¡å¼ï¼ˆComposition Patternï¼‰
**æ‡‰ç”¨ä½ç½®**ï¼š`Entity` æŒæœ‰ `List<Ability>`

**å„ªå‹¢**ï¼š
- å„ªæ–¼ç¹¼æ‰¿çš„éˆæ´»æ€§ï¼ˆ"çµ„åˆå„ªæ–¼ç¹¼æ‰¿"ï¼‰
- åŸ·è¡Œæ™‚å‹•æ…‹æ”¹è®Šè§’è‰²èƒ½åŠ›
- é¿å…é¡åˆ¥çˆ†ç‚¸ï¼ˆä¸éœ€è¦ç‚ºæ¯å€‹æŠ€èƒ½çµ„åˆå»ºç«‹å­é¡åˆ¥ï¼‰

### ğŸ”¹ ä¸å¯è®Šæ¨¡å¼ï¼ˆImmutable Patternï¼‰
**æ‡‰ç”¨ä½ç½®**ï¼š`StatContext.modify()` æ–¹æ³•

**å„ªå‹¢**ï¼š
- é¿å…å…±äº«ç‹€æ…‹å¼•ç™¼çš„ Bug
- æ˜“æ–¼æ¨ç†èˆ‡é™¤éŒ¯
- æ”¯æ´å‡½æ•¸å¼é¢¨æ ¼çš„å±¬æ€§è¨ˆç®—

---

## é—œéµæ©Ÿåˆ¶å¯¦ä½œ

### ğŸ”‘ æ©Ÿåˆ¶ 1ï¼šå±¬æ€§è¨ˆç®—èˆ‡äº’æ–¥è¦å‰‡

#### å•é¡Œæè¿°
ç•¶è§’è‰²åŒæ™‚å—åˆ°å¤šå€‹æ”»æ“Šå…‰ç’°å½±éŸ¿æ™‚ï¼ˆä¾‹å¦‚ +10% èˆ‡ +15%ï¼‰ï¼Œä¸æ‡‰è©²ç´¯ä¹˜ç‚º +26.5%ï¼Œè€Œæ˜¯**åªå–æœ€å¤§è€…**ï¼ˆ+15%ï¼‰ã€‚

#### è§£æ±ºæ–¹æ¡ˆ
åœ¨ [game/Entity.java](game/Entity.java#L76-L103) çš„ `getFinalStats()` æ–¹æ³•ä¸­ï¼š

```java
// æ­¥é©Ÿ 1ï¼šæ”¶é›†æ‰€æœ‰æ”»æ“Šå…‰ç’°
List<Ability> attackAuras = abilities.stream()
    .filter(a -> a.category() == BuffCategory.ATTACK_AURA)
    .collect(Collectors.toList());

// æ­¥é©Ÿ 2ï¼šé€éè©¦ç®—æ‰¾å‡ºæœ€å¼·å…‰ç’°
Ability bestAura = null;
double bestAttack = -1.0;
for (Ability a : attackAuras) {
    StatContext test = a.modify(new StatContext(baseStats));
    if (test.attack > bestAttack) {
        bestAttack = test.attack;
        bestAura = a;
    }
}

// æ­¥é©Ÿ 3ï¼šæ­£å¼å¥—ç”¨æ™‚è·³ééæœ€å¼·å…‰ç’°
for (Ability a : allAbilities) {
    if (a.category() == BuffCategory.ATTACK_AURA) {
        if (a == bestAura) current = a.modify(current);
    } else {
        current = a.modify(current);
    }
}
```

#### é©—è­‰æ¸¬è©¦
åƒè¦‹ [Main.java](Main.java#L69-L81) çš„**æƒ…å¢ƒ 4**ï¼š
```
Teammate Attack Final: 115.0  // âœ“ æ­£ç¢ºï¼ˆ100 * 1.15ï¼‰
// è‹¥ç´¯ä¹˜å‰‡ç‚ºï¼š110 * 1.15 = 126.5  âœ— éŒ¯èª¤
```

---

### ğŸ”‘ æ©Ÿåˆ¶ 2ï¼šPVP æ¨¡å¼å‹•æ…‹é™åˆ¶

#### éœ€æ±‚
åœ¨ PVP æ¨¡å¼ä¸‹ï¼Œæ”»æ“Šå…‰ç’°æ•ˆæœä¸Šé™ç‚º **5%**ï¼ˆå³å€ç‡æœ€å¤§ç‚º 1.05ï¼‰ï¼Œé˜²æ­¢æ•¸å€¼è†¨è„¹ã€‚

#### å¯¦ä½œä½ç½®
[game/abilities/AttackAuraAbility.java](game/abilities/AttackAuraAbility.java#L79-L86)

```java
@Override
public StatContext modify(StatContext stats) {
    double rate = baseMultiplier;  // ä¾‹å¦‚ 1.15
    
    // PVP æ¨¡å¼é™åˆ¶
    if (ctx.mode == Mode.PVP) {
        if (rate > 1.05) {
            rate = 1.05;  // å¼·åˆ¶å£“åˆ¶ç‚º 5%
        }
    }
    
    MyModifier mod = new MyModifier();
    mod.attackMul(rate);
    return mod.apply(stats);
}
```

#### é©—è­‰æ¸¬è©¦
åƒè¦‹ [Main.java](Main.java#L84-L92) çš„**æƒ…å¢ƒ 5**ï¼š
```java
ctx.mode = Mode.PVP;  // åˆ‡æ›ç‚º PVP æ¨¡å¼
// åŸæœ¬ 15% çš„å…‰ç’°è¢«å£“åˆ¶ç‚º 5%
StatContext pvpStats = teammate.getFinalStats();
System.out.println(pvpStats.attack);  // è¼¸å‡ºï¼š105.0
```

---

### ğŸ”‘ æ©Ÿåˆ¶ 3ï¼šå…‰ç’°æ“´æ•£æ©Ÿåˆ¶

#### æµç¨‹åœ–
```
   Tick äº‹ä»¶
      â†“
AttackAuraAbility ç›£è½åˆ°
      â†“
æŸ¥è©¢ç¯„åœå…§éšŠå‹ï¼ˆAreaServiceï¼‰
      â†“
ç‚ºæ¯å€‹éšŠå‹æ·»åŠ  AuraEffectAbility
      â†“
éšŠå‹çš„ getFinalStats() è¨ˆç®—æ™‚å¥—ç”¨æ•ˆæœ
```

#### æ ¸å¿ƒç¨‹å¼ç¢¼
[game/abilities/AttackAuraAbility.java](game/abilities/AttackAuraAbility.java#L27-L50)

```java
@Override
public void onAttach(Entity self, GameContext ctx) {
    this.ctx = ctx;
    
    // è¨‚é–± Tick äº‹ä»¶
    ctx.bus.subscribe(Events.Tick.class, event -> {
        // æŸ¥è©¢ç¯„åœå…§çš„éšŠå‹
        List<Entity> allies = ctx.area.alliesWithin(self, radius);
        
        // ç‚ºæ¯å€‹éšŠå‹æ·»åŠ å…‰ç’°æ•ˆæœ
        for (Entity ally : allies) {
            String effectId = "EFFECT_" + id;
            boolean hasIt = ally.abilities.stream()
                .anyMatch(a -> a.id().equals(effectId));
            
            if (!hasIt) {
                AuraEffectAbility effect = 
                    new AuraEffectAbility(effectId, multiplier);
                ally.addAbility(effect);
                effect.onAttach(ally, ctx);
                
                // è¨˜éŒ„æ—¥èªŒ
                ally.log.add(new LogEntry(0, "Tick", id, 
                    "Applied " + effectId));
            }
        }
    });
}
```

#### è¨­è¨ˆäº®é»
1. **åˆ†é›¢é—œæ³¨é»**ï¼šå…‰ç’°æŒæœ‰è€…ï¼ˆ`AttackAuraAbility`ï¼‰èˆ‡æ•ˆæœæ¥æ”¶è€…ï¼ˆ`AuraEffectAbility`ï¼‰åˆ†é›¢
2. **é¿å…é‡è¤‡æ·»åŠ **ï¼šé€é ID æª¢æŸ¥é˜²æ­¢åŒä¸€å…‰ç’°è¢«å¤šæ¬¡æ·»åŠ 
3. **å‹•æ…‹ç¯„åœæª¢æŸ¥**ï¼šæ¯æ¬¡ Tick é‡æ–°æª¢æŸ¥ç¯„åœï¼Œæ”¯æ´ç§»å‹•ä¸­çš„è§’è‰²

---

### ğŸ”‘ æ©Ÿåˆ¶ 4ï¼šå†·å»æ™‚é–“ç®¡ç†

#### ä½¿ç”¨æ¡ˆä¾‹
æš´æ“Šè§¸ç™¼è­·ç›¾èƒ½åŠ›è¨­å®š 10 ç§’å†·å»ï¼Œé˜²æ­¢é€£çºŒæš´æ“Šç„¡é™ç–Šç›¾ã€‚

#### å¯¦ä½œç¨‹å¼ç¢¼
[game/abilities/CritShieldAbility.java](game/abilities/CritShieldAbility.java#L25-L37)

```java
@Override
public void onAttach(Entity self, GameContext ctx) {
    this.ctx = ctx;
    
    ctx.bus.subscribe(Events.OnCrit.class, event -> {
        if (event.attacker == self) {
            // æª¢æŸ¥å†·å»ç‹€æ…‹
            if (cd.ready(self)) {
                self.addShield(shieldAmount);
                cd.consume(self);  // é‡ç½®å†·å»è¨ˆæ™‚å™¨
                
                self.log.add(new LogEntry(0, "OnCrit", id, 
                    shieldAmount + " shield"));
            }
            // è‹¥åœ¨å†·å»ä¸­ï¼Œå‰‡éœé»˜å¿½ç•¥æ­¤æ¬¡è§¸ç™¼
        }
    });
}
```

#### æ¸¬è©¦é©—è­‰
åƒè¦‹ [Main.java](Main.java#L41-L54) çš„**æƒ…å¢ƒ 2**ï¼š
```java
// ç¬¬ä¸€æ¬¡è§¸ç™¼ï¼šæˆåŠŸ
bus.publish(new Events.OnCrit(p2));  // Shield +100

// ç¬¬äºŒæ¬¡è§¸ç™¼ï¼ˆç«‹å³ï¼‰ï¼šå¤±æ•—ï¼ˆå†·å»ä¸­ï¼‰
bus.publish(new Events.OnCrit(p2));  // Shield ä»ç‚º 100

System.out.println("P2 Shield: " + p2.shield);  // è¼¸å‡ºï¼š100
```

---

## åŸ·è¡Œæµç¨‹åˆ†æ

### å®Œæ•´åŸ·è¡Œæ™‚åºåœ–ï¼ˆä»¥å…‰ç’°ç‚ºä¾‹ï¼‰

```
Main                EventBus        AttackAura       AreaService      Teammate
 â”‚                      â”‚                â”‚                â”‚               â”‚
 â”‚â”€ publish(Tick) â”€â”€â”€â”€â†’â”‚                â”‚                â”‚               â”‚
 â”‚                      â”‚                â”‚                â”‚               â”‚
 â”‚                      â”‚â”€ notify â”€â”€â”€â”€â”€â”€â†’â”‚                â”‚               â”‚
 â”‚                      â”‚                â”‚                â”‚               â”‚
 â”‚                      â”‚                â”‚â”€ alliesWithin â†’â”‚               â”‚
 â”‚                      â”‚                â”‚                â”‚               â”‚
 â”‚                      â”‚                â”‚â†â”€â”€â”€[Entity]â”€â”€â”€â”€â”‚               â”‚
 â”‚                      â”‚                â”‚                â”‚               â”‚
 â”‚                      â”‚                â”‚â”€â”€â”€ addAbility â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
 â”‚                      â”‚                â”‚                â”‚               â”‚
 â”‚                      â”‚                â”‚                â”‚               â”‚â†onAttach
 â”‚                      â”‚                â”‚                â”‚               â”‚
 â”‚â”€ getFinalStats â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
 â”‚                      â”‚                â”‚                â”‚               â”‚
 â”‚                      â”‚                â”‚                â”‚               â”‚modify()
 â”‚                      â”‚                â”‚                â”‚               â”‚
 â”‚â†â”€ StatContext(attack:110) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
```

### è©³ç´°æ­¥é©Ÿèªªæ˜

#### éšæ®µ 1ï¼šç³»çµ±åˆå§‹åŒ–
1. å‰µå»º `GameEventBus` å¯¦ä¾‹
2. å‰µå»º `AreaService` ä¸¦æ³¨å…¥å¯¦é«”åˆ—è¡¨
3. å»ºç«‹ `GameContext` å°è£æœå‹™
4. å‰µå»º `Entity` å¯¦ä¾‹ä¸¦æ·»åŠ èƒ½åŠ›
5. å‘¼å« `ability.onAttach()` è¨»å†Šäº‹ä»¶è™•ç†å™¨

#### éšæ®µ 2ï¼šäº‹ä»¶è§¸ç™¼
1. Main å‘¼å« `bus.publish(new Events.Tick())`
2. EventBus æŸ¥æ‰¾ `Tick` äº‹ä»¶çš„è¨‚é–±è€…
3. ä¾åºå‘¼å«æ‰€æœ‰è¨‚é–±è€…çš„ `Consumer.accept()`

#### éšæ®µ 3ï¼šèƒ½åŠ›åŸ·è¡Œ
1. `AttackAuraAbility` çš„è™•ç†å™¨è¢«å‘¼å«
2. å‘¼å« `ctx.area.alliesWithin()` æŸ¥è©¢ç¯„åœå…§å¯¦é«”
3. ç‚ºæ¯å€‹éšŠå‹å‰µå»ºä¸¦æ·»åŠ  `AuraEffectAbility`
4. å¯«å…¥æ—¥èªŒè¨˜éŒ„

#### éšæ®µ 4ï¼šå±¬æ€§æŸ¥è©¢
1. Main å‘¼å« `teammate.getFinalStats()`
2. Entity éæ­·æ‰€æœ‰èƒ½åŠ›åŸ·è¡Œäº’æ–¥é‚è¼¯
3. ä¾åºå‘¼å« `ability.modify(stats)`
4. è¿”å›æœ€çµ‚è¨ˆç®—çµæœ

---

## æ¸¬è©¦æƒ…å¢ƒèªªæ˜

### ğŸ“Š æ¸¬è©¦è¦†è“‹çŸ©é™£

| æƒ…å¢ƒ | æ¸¬è©¦ç›®æ¨™ | é—œéµé©—è­‰é» | å°æ‡‰ç¨‹å¼ç¢¼ |
|------|----------|------------|------------|
| æƒ…å¢ƒ 1 | ç„¡å†·å»è§¸ç™¼ | é€£çºŒè§¸ç™¼ 2 æ¬¡ï¼Œè­·ç›¾ +200 | [Main.java:18-33](Main.java#L18-L33) |
| æƒ…å¢ƒ 2 | å†·å»æ©Ÿåˆ¶ | é€£çºŒè§¸ç™¼ 2 æ¬¡ï¼Œè­·ç›¾ +100 | [Main.java:36-54](Main.java#L36-L54) |
| æƒ…å¢ƒ 3 | å…‰ç’°æ“´æ•£ | éšŠå‹æ”»æ“ŠåŠ›å¾ 100 â†’ 110 | [Main.java:57-68](Main.java#L57-L68) |
| æƒ…å¢ƒ 4 | äº’æ–¥è¦å‰‡ | é›™å…‰ç’°å–æœ€å¤§å€¼ï¼ˆ115 é 126.5ï¼‰ | [Main.java:71-82](Main.java#L71-L82) |
| æƒ…å¢ƒ 5 | PVP é™åˆ¶ | 15% å…‰ç’°è¢«å£“åˆ¶ç‚º 5% | [Main.java:85-92](Main.java#L85-L92) |

---

### æƒ…å¢ƒ 1ï¼šç„¡å†·å»é€£çºŒè§¸ç™¼

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```java
Entity p1 = new Entity(new BattleLog());
Ability critShield = new CritShieldAbility("CRIT_SHIELD_NO_CD", 100, 0);
p1.addAbility(critShield);
critShield.onAttach(p1, ctx);

bus.publish(new Events.OnCrit(p1));  // ç¬¬ä¸€æ¬¡æš´æ“Š
bus.publish(new Events.OnCrit(p1));  // ç¬¬äºŒæ¬¡æš´æ“Š
```

#### é æœŸè¼¸å‡º
```
P1 Shield: 200
log:
  t:0,evt: OnCrit,ability:CRIT_SHIELD_NO_CD,effect:100 shield
  t:0,evt: OnCrit,ability:CRIT_SHIELD_NO_CD,effect:100 shield
```

#### é©—è­‰é‚è¼¯
- âœ… `cd.ready()` å§‹çµ‚è¿”å› `true`ï¼ˆå†·å»æ™‚é–“ç‚º 0ï¼‰
- âœ… æ¯æ¬¡æš´æ“Šéƒ½å¢åŠ  100 è­·ç›¾
- âœ… æ—¥èªŒè¨˜éŒ„å…©æ¬¡è§¸ç™¼äº‹ä»¶

---

### æƒ…å¢ƒ 2ï¼šå†·å»é˜»æ­¢é€£çºŒè§¸ç™¼

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```java
Ability critShieldCD = new CritShieldAbility("CRIT_SHIELD_CD", 100, 10000);
p2.addAbility(critShieldCD);
critShieldCD.onAttach(p2, ctx);

bus.publish(new Events.OnCrit(p2));  // ç¬¬ä¸€æ¬¡ï¼šæˆåŠŸ
bus.publish(new Events.OnCrit(p2));  // ç¬¬äºŒæ¬¡ï¼šå†·å»ä¸­
```

#### é æœŸè¼¸å‡º
```
P2 Shield: 100
log:
  t:0,evt: OnCrit,ability:CRIT_SHIELD_CD,effect:100 shield
```

#### é©—è­‰é‚è¼¯
- âœ… ç¬¬ä¸€æ¬¡è§¸ç™¼ï¼š`cd.ready() == true`ï¼ŒåŸ·è¡Œæ•ˆæœä¸¦å‘¼å« `cd.consume()`
- âœ… ç¬¬äºŒæ¬¡è§¸ç™¼ï¼š`cd.ready() == false`ï¼Œè·³éæ•ˆæœåŸ·è¡Œ
- âœ… æ—¥èªŒåªæœ‰ä¸€æ¢è¨˜éŒ„

---

### æƒ…å¢ƒ 3ï¼šå…‰ç’°æ•ˆæœæ“´æ•£

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```java
Entity auraHolder = new Entity(new BattleLog());
Entity teammate = new Entity(new BattleLog());

Ability atkAura = new AttackAuraAbility("AURA_ATK_UP", 1.10, 5.0);
auraHolder.addAbility(atkAura);
atkAura.onAttach(auraHolder, ctx);

System.out.println("Before: " + teammate.getFinalStats().attack);
bus.publish(new Events.Tick());
System.out.println("After: " + teammate.getFinalStats().attack);
```

#### é æœŸè¼¸å‡º
```
Teammate Attack before: 100.0
Triggering Tick...
Teammate Attack after: 110.0
Teammate Log:
log:
  t:0,evt: Tick,ability:AURA_ATK_UP,effect:Applied EFFECT_AURA_ATK_UP
```

#### é©—è­‰é‚è¼¯
- âœ… Tick äº‹ä»¶è§¸ç™¼ `AttackAuraAbility`
- âœ… `AreaService` æ‰¾åˆ°ç¯„åœå…§çš„ `teammate`
- âœ… ç‚º `teammate` æ·»åŠ  `AuraEffectAbility`
- âœ… `getFinalStats()` è¨ˆç®—æ™‚å¥—ç”¨ 1.10 å€ç‡

---

### æƒ…å¢ƒ 4ï¼šå¤šå…‰ç’°äº’æ–¥è¦å‰‡

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```java
// teammate å·²æœ‰ +10% å…‰ç’°ï¼ˆä¾†è‡ªæƒ…å¢ƒ 3ï¼‰

Entity auraHolder2 = new Entity(new BattleLog());
Ability strongerAura = new AttackAuraAbility("AURA_STRONG", 1.15, 5.0);
auraHolder2.addAbility(strongerAura);
strongerAura.onAttach(auraHolder2, ctx);

bus.publish(new Events.Tick());
StatContext finalStats = teammate.getFinalStats();
System.out.println("Teammate Attack Final: " + finalStats.attack);
```

#### é æœŸè¼¸å‡º
```
Teammate Attack Final: 115.0
```

#### é©—è­‰é‚è¼¯
- âœ… `teammate` æŒæœ‰å…©å€‹å…‰ç’°æ•ˆæœï¼š`EFFECT_AURA_ATK_UP`ï¼ˆ1.10ï¼‰å’Œ `EFFECT_AURA_STRONG`ï¼ˆ1.15ï¼‰
- âœ… `getFinalStats()` è©¦ç®—å…©è€…ï¼Œé¸æ“‡ 1.15
- âœ… æœ€çµ‚æ”»æ“ŠåŠ› = 100 Ã— 1.15 = **115.0**
- âŒ è‹¥éŒ¯èª¤ç–ŠåŠ ï¼š100 Ã— 1.10 Ã— 1.15 = 126.5

---

### æƒ…å¢ƒ 5ï¼šPVP æ¨¡å¼é™åˆ¶

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```java
ctx.mode = Mode.PVP;  // åˆ‡æ›ç‚º PVP æ¨¡å¼
StatContext pvpStats = teammate.getFinalStats();
System.out.println("Teammate Attack PVP: " + pvpStats.attack);
```

#### é æœŸè¼¸å‡º
```
Teammate Attack PVP: 105.0
```

#### é©—è­‰é‚è¼¯
- âœ… `AuraEffectAbility.modify()` æª¢æ¸¬åˆ° `ctx.mode == Mode.PVP`
- âœ… å°‡å€ç‡å¾ 1.15 å£“åˆ¶ç‚º 1.05
- âœ… æœ€çµ‚æ”»æ“ŠåŠ› = 100 Ã— 1.05 = **105.0**

---

## ç¨‹å¼ç¢¼å“è³ªèˆ‡æœ€ä½³å¯¦è¸

### âœ… å„ªé»ç¸½çµ

1. **æ¸…æ™°çš„é—œæ³¨é»åˆ†é›¢**
   - äº‹ä»¶ç™¼å¸ƒï¼ˆEventBusï¼‰ã€ç©ºé–“æŸ¥è©¢ï¼ˆAreaServiceï¼‰ã€è¦å‰‡é‚è¼¯ï¼ˆAbilityï¼‰å„å¸å…¶è·

2. **é«˜å¯æ¸¬è©¦æ€§**
   - `MockAreaService` å…è¨±å–®å…ƒæ¸¬è©¦ç„¡éœ€çœŸå¯¦åœ°åœ–
   - äº‹ä»¶é©…å‹•æ¶æ§‹ä¾¿æ–¼æ¨¡æ“¬å„ç¨®è§¸ç™¼æƒ…å¢ƒ

3. **å¯æ“´å……æ€§å¼·**
   - æ–°å¢èƒ½åŠ›åªéœ€å¯¦ä½œ `Ability` ä»‹é¢
   - æ–°å¢äº‹ä»¶é¡å‹åªéœ€åœ¨ `Events` é¡åˆ¥ä¸­å®šç¾©

4. **ç¨‹å¼ç¢¼å¯è®€æ€§é«˜**
   - ä½¿ç”¨æœ‰æ„ç¾©çš„å‘½åï¼ˆå¦‚ `onAttach`, `alliesWithin`ï¼‰
   - æµå¼ API è®“é›†åˆæ“ä½œç°¡æ½”æ˜ç­

### ğŸ”§ å¯æ”¹é€²ç©ºé–“

1. **äº‹ä»¶å–æ¶ˆè¨‚é–±**
   - ç›®å‰ `onDetach()` ç„¡æ³•å–æ¶ˆè¨‚é–±ï¼Œå¯èƒ½å°è‡´è¨˜æ†¶é«”æ´©æ¼
   - **å»ºè­°**ï¼šè¿”å›è¨‚é–±å¥æŸ„ï¼ˆSubscription Handleï¼‰ä¾›å–æ¶ˆä½¿ç”¨

2. **æ™‚é–“ç³»çµ±æŠ½è±¡åŒ–**
   - `CooldownPolicy` ç›´æ¥ä½¿ç”¨ `System.currentTimeMillis()`
   - **å»ºè­°**ï¼šæ³¨å…¥ `TimeProvider` ä»‹é¢ï¼Œä¾¿æ–¼æ¸¬è©¦èˆ‡å›æ”¾

3. **å±¬æ€§è©¦ç®—æ•ˆèƒ½**
   - `getFinalStats()` å°æ¯å€‹æ”»æ“Šå…‰ç’°éƒ½åŸ·è¡Œå®Œæ•´è©¦ç®—
   - **å»ºè­°**ï¼šå¿«å–è©¦ç®—çµæœæˆ–ä½¿ç”¨é«’æ¨™è¨˜ï¼ˆDirty Flagï¼‰

4. **æ—¥èªŒæ™‚é–“æˆ³**
   - `LogEntry.t` å›ºå®šç‚º 0ï¼Œç„¡æ³•åæ˜ çœŸå¯¦æ™‚åº
   - **å»ºè­°**ï¼šå¾ `GameContext` ç²å–éŠæˆ²æ™‚é˜

---

## é™„éŒ„

### ğŸ“ å®Œæ•´æª”æ¡ˆåˆ—è¡¨

```
asd/
â”œâ”€â”€ Main.java                          # ä¸»ç¨‹å¼èˆ‡æ¸¬è©¦æƒ…å¢ƒ
â”œâ”€â”€ README.md                          # å°ˆæ¡ˆèªªæ˜ï¼ˆä¸­æ–‡ï¼‰
â”œâ”€â”€ game/
â”‚   â”œâ”€â”€ Ability.java                   # èƒ½åŠ›ä»‹é¢
â”‚   â”œâ”€â”€ AreaService.java              # ç©ºé–“æŸ¥è©¢æœå‹™
â”‚   â”œâ”€â”€ BattleLog.java                # æˆ°é¬¥æ—¥èªŒ
â”‚   â”œâ”€â”€ BuffCategory.java             # Buff åˆ†é¡æšèˆ‰
â”‚   â”œâ”€â”€ CooldownPolicy.java           # å†·å»ç­–ç•¥
â”‚   â”œâ”€â”€ Entity.java                   # è§’è‰²å¯¦é«”
â”‚   â”œâ”€â”€ Events.java                   # äº‹ä»¶å®šç¾©
â”‚   â”œâ”€â”€ GameContext.java              # éŠæˆ²æƒ…å¢ƒ
â”‚   â”œâ”€â”€ GameEventBus.java             # äº‹ä»¶åŒ¯æµæ’
â”‚   â”œâ”€â”€ LogEntry.java                 # æ—¥èªŒæ¢ç›®
â”‚   â”œâ”€â”€ Mode.java                     # éŠæˆ²æ¨¡å¼æšèˆ‰
â”‚   â”œâ”€â”€ MyModifier.java               # å±¬æ€§ä¿®é£¾å™¨
â”‚   â”œâ”€â”€ StatContext.java              # å±¬æ€§å®¹å™¨
â”‚   â””â”€â”€ abilities/
â”‚       â”œâ”€â”€ AttackAuraAbility.java    # æ”»æ“Šå…‰ç’°èƒ½åŠ›
â”‚       â””â”€â”€ CritShieldAbility.java    # æš´æ“Šè­·ç›¾èƒ½åŠ›
â””â”€â”€ topic/
    â””â”€â”€ topic.txt                      # éœ€æ±‚æè¿°èˆ‡ UML åœ–
```

### ğŸ”— ç›¸é—œè³‡æº

- **è¨­è¨ˆæ¨¡å¼åƒè€ƒ**ï¼šGang of Four (GoF) Design Patterns
- **äº‹ä»¶é©…å‹•æ¶æ§‹**ï¼šMartin Fowler - Event Sourcing
- **éŠæˆ²é–‹ç™¼æœ€ä½³å¯¦è¸**ï¼šGame Programming Patterns by Robert Nystrom

---

## ç¸½çµ

é€™å€‹ RuneRise èƒ½åŠ›ç³»çµ±å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨**äº‹ä»¶é©…å‹•æ¶æ§‹**èˆ‡**çµ„åˆæ¨¡å¼**æ§‹å»ºé«˜åº¦å¯æ“´å……çš„éŠæˆ²ç³»çµ±ã€‚é€šéæ¸…æ™°çš„ä»‹é¢å®šç¾©ã€åš´æ ¼çš„é—œæ³¨é»åˆ†é›¢ã€ä»¥åŠå·§å¦™çš„äº’æ–¥é‚è¼¯å¯¦ä½œï¼Œç³»çµ±åœ¨ä¿æŒéˆæ´»æ€§çš„åŒæ™‚ç¢ºä¿äº†æ•¸å€¼å¹³è¡¡èˆ‡é‚è¼¯æ­£ç¢ºæ€§ã€‚

æ ¸å¿ƒè¨­è¨ˆç†å¿µï¼š
- **è§£è€¦åˆ**ï¼šèƒ½åŠ›ä¸ä¾è³´å…·é«”å¯¦é«”é¡å‹
- **å¯çµ„åˆ**ï¼šèƒ½åŠ›å¯è‡ªç”±çµ„åˆå½¢æˆè¤‡é›œè¡Œç‚º
- **å¯æ¸¬è©¦**ï¼šç´”å‡½æ•¸å¼çš„å±¬æ€§è¨ˆç®—ä¾¿æ–¼é©—è­‰
- **å¯ç¶­è­·**ï¼šæ–°å¢åŠŸèƒ½ç„¡éœ€ä¿®æ”¹æ—¢æœ‰ç¨‹å¼ç¢¼

é€™äº›è¨­è¨ˆé¸æ“‡ä½¿å¾—ç³»çµ±èƒ½å¤ å¿«é€ŸéŸ¿æ‡‰éœ€æ±‚è®ŠåŒ–ï¼Œæ˜¯ç¾ä»£éŠæˆ²é–‹ç™¼çš„å…¸ç¯„å¯¦è¸ã€‚

---

**æ–‡ä»¶ç‰ˆæœ¬**ï¼š1.0  
**æœ€å¾Œæ›´æ–°**ï¼š2025å¹´12æœˆ19æ—¥  
**ä½œè€…**ï¼šGitHub Copilot  
**å°ˆæ¡ˆç‹€æ…‹**ï¼šâœ… æ¸¬è©¦é€šé
